\documentclass{article}
% --- INCLUDES ---
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{amssymb}
% --- FORMATTING ---
% info
\newcommand{\mytitle}{How To Zotero: Gardner/Springfeld-CSL}
\title{\mytitle}
% page formatting
\geometry{a4paper}
\newcommand{\msize}{2.5cm}
\geometry{left=\msize, right=\msize, top=\msize, bottom=\msize}
\frenchspacing
% colors
\definecolor{unituebingenred}{RGB}{161,30,59}
% header and footer text
\fancyhf{}
\fancyhead[L]{\textcolor{unituebingenred}{\leftmark}}
\fancyhead[R]{\textcolor{unituebingenred}{\scshape{\mytitle}}}
\fancyfoot[CO]{-\ \thepage\ -}
% header and footer line
\let\oldheadrule\headrule
\renewcommand{\headrule}{\color{unituebingenred}\oldheadrule}
\let\oldfootrule\footrule
\renewcommand{\footrule}{\color{unituebingenred}\oldfootrule}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}
% counters
\setcounter{page}{0}
% --- BUILD SYSTEM ---
% conditional compilation
\newif\ifhtml
\newcommand{\htmlonly}[1]{\ifhtml#1\else\fi}
\newif\ifpdf
\newcommand{\pdfonly}[1]{\ifpdf#1\else\fi}
% to be commented/removed out by preprocessor (NOTE: these should be unique)
\htmltrue
\pdftrue
% html unmask
\ifhtml
\newcommand{\htmltagunique}[1]{htmlunmask\{#1\}}
\newcommand{\htmltag}[3]{\htmltagunique{#1}#2\htmltagunique{#3}}
\else
\newcommand{\htmltagunique}[1]{}
\newcommand{\htmltag}[3]{#2}
\fi
% --- COMMANDS ---
\newcommand{\incl}[2]{\begin{center}\includegraphics[width=#1\textwidth]{#2}\end{center}}
\ifhtml
\newcommand{\inclc}[2]{\htmltag{<div class="tex-center">}{\incl{#1}{#2}}{</div>}}
\else
\newcommand{\inclc}[2]{\begin{center}\incl{#1}{#2}\end{center}}
\fi
% --- DOCUMENT ---
\begin{document}
\pdfonly{
\begin{center}
{\LARGE\textbf\mytitle}
\end{center}
}
Im folgenden Text gibt es ein \htmlonly{verstecktes} Gespenst.
\\
Aber das Geheimnis ``\pdfonly{hihihi}'' soll nur das PDF kennen. JFK testet Mathe:
\[
	\sum_{i=1}^n=\frac{n(n+1)}{2},
\]
f\"ur \(n\in\mathbb{N}\).
420\htmlonly{69}
\pdfonly{pdfonly}\htmlonly{htmlonly}
\pagestyle{fancy}
\subsubsection{Stern 0.0.1}
\section{Stern 1}
Das ist ein Satz. Doch \htmltag{<em>}{Mr. Punkt}{</em>} soll nicht abgek\"urzt. Hi! sdjkf skjf skdjf dskfskjf dskj fksd fkdsj fksdj fksdj fskdjf ksdj fksdjf sdkfj sdfk sdkfjsf ksdf jk
\inclc{0.5}{res/smile.png}
\subsection{Stern 1.1}
\subsection{Stern 1.2}
\subsubsection{Stern 1.2.1}
\subsection{Stern 1.3}
\section{Stern 2}
\subsubsection{Stern 2.0.1}
\subsection{Stern 2.1}
\subsubsection{Stern 2.1.1}
\end{document}

